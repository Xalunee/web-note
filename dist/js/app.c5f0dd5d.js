(function(){"use strict";var e={9132:function(e,t,o){var n=o(9242),l=o(3396),a=o(7139);const r={key:0,class:"text-center pt-2 100vh 100vw"},s={class:"container mt-5"},i={class:"row row-cols-2"},c={class:"left-side col-3"},d=(0,l._)("h4",null,"Папки",-1),u={class:"right-side col-9 text-center"},m=(0,l._)("h4",null,"Заметки",-1),p={class:"notes"},f={key:1,class:"container d-flex justify-content-center align-items-center vh-100 vw-100"},h={class:"step"},g={class:"mb-3"},b=(0,l._)("label",{for:"name",class:"form-label"},"Имя",-1),v={class:"mb-3"},w=(0,l._)("label",{for:"password",class:"form-label"},"Пароль",-1),_=(0,l._)("button",{type:"submit",class:"btn btn-primary mb-1"},"Войти",-1),k={class:"step"},y={class:"mb-3"},N=(0,l._)("label",{for:"name",class:"form-label"},"Имя",-1),F={class:"mb-3"},V=(0,l._)("label",{for:"email",class:"form-label"},"Почта",-1),S={class:"mb-3"},$=(0,l._)("label",{for:"password",class:"form-label"},"Пароль",-1),P={class:"mb-3"},E=(0,l._)("label",{for:"confirmPassword",class:"form-label"},"Повторить пароль",-1),z=(0,l._)("button",{type:"submit",class:"btn btn-primary mb-1"}," Зарегистрироваться ",-1);function O(e,t,o,O,C,x){const T=(0,l.up)("folder-form"),U=(0,l.up)("my-dialog"),A=(0,l.up)("folder-form-edit"),D=(0,l.up)("folder-list"),I=(0,l.up)("note-form-create"),R=(0,l.up)("note-form-edit"),Z=(0,l.up)("notes-list");return 0===C.step?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("h5",null,"Имя: "+(0,a.zw)(C.userInfo.userName),1),(0,l._)("h5",null,"Почта: "+(0,a.zw)(C.userInfo.userEmail),1),(0,l._)("div",s,[(0,l._)("div",i,[(0,l._)("div",c,[d,(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>x.showDialog&&x.showDialog(...e)),class:"btn btn-outline-success btn-lg"}," Создать "),(0,l.Wm)(U,{show:C.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>C.dialogVisible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{onCreate:x.createFolder},null,8,["onCreate"])])),_:1},8,["show"]),(0,l.Wm)(U,{show:C.dialogEditVisible,"onUpdate:show":t[2]||(t[2]=e=>C.dialogEditVisible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{onEdit:x.editFolderForm},null,8,["onEdit"])])),_:1},8,["show"]),(0,l.Wm)(D,{folders:C.folders,onRemove:x.removeFolder,onEdit:x.editFolder,onShowNotes:x.showNotes},null,8,["folders","onRemove","onEdit","onShowNotes"])]),(0,l._)("div",u,[m,C.selectedFolderId.length>0?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>x.showNoteDialog&&x.showNoteDialog(...e)),class:"btn btn-outline-success btn-lg"}," Создать ")):(0,l.kq)("",!0),(0,l.Wm)(U,{show:C.dialogNoteVisible,"onUpdate:show":t[4]||(t[4]=e=>C.dialogNoteVisible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{onCreate:x.createNote},null,8,["onCreate"])])),_:1},8,["show"]),(0,l.Wm)(U,{show:C.dialogEditNoteVisible,"onUpdate:show":t[5]||(t[5]=e=>C.dialogEditNoteVisible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{onEdit:x.editNoteForm},null,8,["onEdit"])])),_:1},8,["show"]),(0,l._)("div",p,[(0,l.Wm)(Z,{notes:C.notes,onEdit:x.editNote,onRemove:x.removeNote,class:"d-flex flex-wrap"},null,8,["notes","onEdit","onRemove"])])])])])])):((0,l.wg)(),(0,l.iD)("div",f,[(0,l.wy)((0,l._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)(((...e)=>x.autorizationUser&&x.autorizationUser(...e)),["prevent"])),novalidate:"",class:"border p-5 rounded"},[(0,l._)("div",h,[(0,l._)("div",g,[b,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>O.state.formAutoriz.name=e),type:"text",class:"form-control",id:"name"},null,512),[[n.nr,O.state.formAutoriz.name]])]),(0,l._)("div",v,[w,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>O.state.formAutoriz.password=e),type:"password",class:"form-control",id:"password"},null,512),[[n.nr,O.state.formAutoriz.password]])]),_,(0,l._)("p",null,[(0,l.Uk)(" Нет аккаунта? "),(0,l._)("span",{onClick:t[8]||(t[8]=(...e)=>x.register&&x.register(...e)),role:"button",class:"text-primary"},"Зарегистрироваться")])])],544),[[n.F8,1===C.step]]),(0,l.wy)((0,l._)("form",{onSubmit:t[15]||(t[15]=(0,n.iM)(((...e)=>x.registrationUser&&x.registrationUser(...e)),["prevent"])),novalidate:"",class:"border p-5 rounded"},[(0,l._)("div",k,[(0,l._)("div",y,[N,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>O.state.formReg.name=e),type:"text",class:"form-control",id:"name"},null,512),[[n.nr,O.state.formReg.name]])]),(0,l._)("div",F,[V,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>O.state.formReg.email=e),type:"email",class:"form-control",id:"email"},null,512),[[n.nr,O.state.formReg.email]])]),(0,l._)("div",S,[$,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>O.state.formReg.password=e),type:"password",class:"form-control",id:"password"},null,512),[[n.nr,O.state.formReg.password]])]),(0,l._)("div",P,[E,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>O.state.formReg.confirmPassword=e),type:"password",class:"form-control",id:"confirmPassword"},null,512),[[n.nr,O.state.formReg.confirmPassword]])]),z,(0,l._)("p",null,[(0,l.Uk)(" У меня уже есть аккаунт. "),(0,l._)("span",{onClick:t[14]||(t[14]=(...e)=>x.autorization&&x.autorization(...e)),role:"button",class:"text-primary"},"Войти")])])],544),[[n.F8,2===C.step]])]))}const C=(0,l._)("h5",null,[(0,l._)("strong",null,"Создание папки")],-1),x=(0,l._)("label",{for:"name",class:"form-label"},"Название",-1),T=(0,l._)("label",{for:"color",class:"form-label"},"Цвет",-1);function U(e,t,o,a,r,s){const i=(0,l.up)("my-select");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)((()=>{}),["prevent"])),class:"text-start rounded p-2"},[C,x,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.folder.name=e),type:"text",class:"form-control mb-3",id:"name"},null,512),[[n.nr,r.folder.name]]),T,(0,l.Wm)(i,{class:"form-control mb-3",id:"color",modelValue:r.folder.color,"onUpdate:modelValue":t[1]||(t[1]=e=>r.folder.color=e),options:r.colorOptions},null,8,["modelValue","options"]),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>s.createFolder&&s.createFolder(...e)),type:"submit",class:"btn btn-outline-dark"}," Создать ")],32)}const A=["value"],D=(0,l._)("option",{value:"White"},"White",-1),I=["value"];function R(e,t,o,n,r,s){return(0,l.wg)(),(0,l.iD)("select",{value:o.modelValue,onChange:t[0]||(t[0]=(...e)=>s.changeOption&&s.changeOption(...e))},[D,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.options,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.value,value:e.value},(0,a.zw)(e.name),9,I)))),128))],40,A)}var Z={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}},L=o(89);const B=(0,L.Z)(Z,[["render",R]]);var W=B,j={data(){return{folder:{name:"",color:""},colorOptions:[{value:"Blue",name:"Blue"},{value:"Orange",name:"Orange"},{value:"Yellow",name:"Yellow"},{value:"Purple",name:"Purple"},{value:"Pink",name:"Pink"},{value:"Green",name:"Green"},{value:"Lime",name:"Lime"},{value:"LightGray",name:"LightGray"}]}},methods:{createFolder(){this.$emit("create",this.folder),this.folder={name:""}}},components:{MySelect:W}};const G=(0,L.Z)(j,[["render",U]]);var q=G;function M(e,t,o,n,a,r){const s=(0,l.up)("folder-item");return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.folders,(t=>((0,l.wg)(),(0,l.j4)(s,{folder:t,key:t.id,onRemove:o=>e.$emit("remove",t),onEdit:o=>e.$emit("edit",t),onShowNotes:o=>e.$emit("showNotes",t)},null,8,["folder","onRemove","onEdit","onShowNotes"])))),128))])}const Y={class:"folder__btns d-flex justify-content-between"};function H(e,t,o,n,r,s){return(0,l.wg)(),(0,l.iD)("div",{class:"folder border rounded p-3 mt-2",style:(0,a.j5)({"background-color":o.folder.color})},[(0,l._)("div",null,[(0,l._)("h5",null,[(0,l._)("strong",null,(0,a.zw)(o.folder.name),1)]),(0,l._)("p",null,"Заметки: "+(0,a.zw)(o.folder.notesCount),1)]),(0,l._)("div",Y,[(0,l._)("button",{class:"btn btn-dark btn-sm",onClick:t[0]||(t[0]=t=>e.$emit("edit",o.folder))}," Изменить "),(0,l._)("button",{class:"btn btn-danger btn-sm",onClick:t[1]||(t[1]=t=>e.$emit("remove",o.folder))}," Удалить "),(0,l._)("button",{class:"btn btn-info btn-sm",onClick:t[2]||(t[2]=t=>e.$emit("showNotes",o.folder))},"Выбрать папку")])],4)}var K={props:{folder:{type:Object,required:!0}}};const X=(0,L.Z)(K,[["render",H]]);var J=X,Q={props:{folders:{type:Array,required:!0}},components:{FolderItem:J}};const ee=(0,L.Z)(Q,[["render",M]]);var te=ee,oe=o(3053),ne=o(9117),le=o(4870),ae=o(70);const re=(0,l._)("h5",null,[(0,l._)("strong",null,"Изменение папки")],-1),se=(0,l._)("label",{for:"name",class:"form-label"},"Название",-1),ie=(0,l._)("label",{for:"color",class:"form-label"},"Цвет",-1);function ce(e,t,o,a,r,s){const i=(0,l.up)("my-select");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)((()=>{}),["prevent"])),class:"text-start rounded p-2"},[re,se,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.folder.name=e),type:"text",class:"form-control mb-3",id:"name"},null,512),[[n.nr,r.folder.name]]),ie,(0,l.Wm)(i,{class:"form-control mb-3",id:"color",modelValue:r.folder.color,"onUpdate:modelValue":t[1]||(t[1]=e=>r.folder.color=e),options:r.colorOptions},null,8,["modelValue","options"]),(0,l._)("button",{class:"btn btn-dark",onClick:t[2]||(t[2]=(...e)=>s.editFolder&&s.editFolder(...e))},"Изменить")],32)}var de={data(){return{folder:{name:"",color:""},colorOptions:[{value:"Blue",name:"Blue"},{value:"Orange",name:"Orange"},{value:"Yellow",name:"Yellow"},{value:"Purple",name:"Purple"},{value:"Pink",name:"Pink"},{value:"Green",name:"Green"},{value:"Lime",name:"Lime"},{value:"LightGray",name:"LightGray"}]}},methods:{editFolder(){this.$emit("edit",this.folder),this.folder={name:""}}},components:{MySelect:W}};const ue=(0,L.Z)(de,[["render",ce]]);var me=ue;function pe(e,t,o,n,a,r){const s=(0,l.up)("note-item");return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.notes,(t=>((0,l.wg)(),(0,l.j4)(s,{note:t,key:t.id,onRemove:o=>e.$emit("remove",t),onEdit:o=>e.$emit("edit",t)},null,8,["note","onRemove","onEdit"])))),128))])}const fe={class:"d-flex border-top p-2"},he={class:"note__btns d-flex justify-content-between"};function ge(e,t,o,n,r,s){return(0,l.wg)(),(0,l.iD)("div",{class:"note border rounded p-3 m-2",style:(0,a.j5)({"background-color":o.note.color})},[(0,l._)("div",null,[(0,l._)("h5",null,[(0,l._)("strong",null,(0,a.zw)(o.note.title),1)]),(0,l._)("div",fe,[(0,l._)("p",null,(0,a.zw)(o.note.content),1)]),(0,l._)("div",he,[(0,l._)("button",{class:"btn btn-dark btn-sm",onClick:t[0]||(t[0]=t=>e.$emit("edit",o.note))}," Изменить "),(0,l._)("button",{class:"btn btn-danger btn-sm",onClick:t[1]||(t[1]=t=>e.$emit("remove",o.note))}," Удалить ")])])],4)}var be={props:{note:{type:Object,required:!0}}};const ve=(0,L.Z)(be,[["render",ge],["__scopeId","data-v-7e49c8ae"]]);var we=ve,_e={props:{notes:{type:Array,required:!0}},components:{NoteItem:we}};const ke=(0,L.Z)(_e,[["render",pe]]);var ye=ke;const Ne=e=>((0,l.dD)("data-v-525edf0c"),e=e(),(0,l.Cn)(),e),Fe=Ne((()=>(0,l._)("h5",null,[(0,l._)("strong",null,"Создание заметки")],-1))),Ve=Ne((()=>(0,l._)("label",{for:"title",class:"form-label"},"Название",-1))),Se=Ne((()=>(0,l._)("label",{for:"content",class:"form-label"}," Описание ",-1))),$e=Ne((()=>(0,l._)("label",{for:"color",class:"form-label"},"Цвет",-1)));function Pe(e,t,o,a,r,s){const i=(0,l.up)("my-select");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[4]||(t[4]=(0,n.iM)((()=>{}),["prevent"])),class:"text-start rounded p-2"},[Fe,Ve,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.note.title=e),type:"text",class:"form-control mb-3",id:"title"},null,512),[[n.nr,r.note.title]]),Se,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.note.content=e),class:"form-control textarea mb-3",id:"content"},"\r\n    ",512),[[n.nr,r.note.content]]),$e,(0,l.Wm)(i,{class:"form-control mb-3",id:"color",modelValue:r.note.color,"onUpdate:modelValue":t[2]||(t[2]=e=>r.note.color=e),options:r.colorOptions},null,8,["modelValue","options"]),(0,l._)("button",{onClick:t[3]||(t[3]=(...e)=>s.createNote&&s.createNote(...e)),type:"submit",class:"btn btn-outline-dark"}," Создать ")],32)}var Ee={data(){return{note:{title:"",content:"",color:""},colorOptions:[{value:"Blue",name:"Blue"},{value:"Orange",name:"Orange"},{value:"Yellow",name:"Yellow"},{value:"Purple",name:"Purple"},{value:"Pink",name:"Pink"},{value:"Green",name:"Green"},{value:"Lime",name:"Lime"},{value:"LightGray",name:"LightGray"}]}},methods:{createNote(){this.$emit("create",this.note),this.note={title:"",content:""}}},components:{MySelect:W}};const ze=(0,L.Z)(Ee,[["render",Pe],["__scopeId","data-v-525edf0c"]]);var Oe=ze;const Ce=(0,l._)("h5",null,[(0,l._)("strong",null,"Изменение заметки")],-1),xe=(0,l._)("label",{for:"title",class:"form-label"},"Название",-1),Te=(0,l._)("label",{for:"content",class:"form-label"}," Описание ",-1),Ue=(0,l._)("label",{for:"color",class:"form-label"},"Цвет",-1);function Ae(e,t,o,a,r,s){const i=(0,l.up)("my-select");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[4]||(t[4]=(0,n.iM)((()=>{}),["prevent"])),class:"text-start rounded p-2"},[Ce,xe,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.note.title=e),type:"text",class:"form-control mb-3",id:"title"},null,512),[[n.nr,r.note.title]]),Te,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.note.content=e),class:"form-control textarea mb-3",id:"content"},"\r\n    ",512),[[n.nr,r.note.content]]),Ue,(0,l.Wm)(i,{class:"form-control mb-3",id:"color",modelValue:r.note.color,"onUpdate:modelValue":t[2]||(t[2]=e=>r.note.color=e),options:r.colorOptions},null,8,["modelValue","options"]),(0,l._)("button",{class:"btn btn-dark",onClick:t[3]||(t[3]=(...e)=>s.editNote&&s.editNote(...e))},"Изменить")],32)}var De={data(){return{note:{title:"",content:"",color:""},colorOptions:[{value:"Blue",name:"Blue"},{value:"Orange",name:"Orange"},{value:"Yellow",name:"Yellow"},{value:"Purple",name:"Purple"},{value:"Pink",name:"Pink"},{value:"Green",name:"Green"},{value:"Lime",name:"Lime"},{value:"LightGray",name:"LightGray"}]}},methods:{editNote(){this.$emit("edit",this.note),this.note={title:"",content:""}}},components:{MySelect:W}};const Ie=(0,L.Z)(De,[["render",Ae]]);var Re=Ie,Ze={setup(){const e=(0,le.qj)({formAutoriz:{name:"",password:""},formReg:{name:"",email:"",password:"",confirmPassword:""}}),t=(0,l.Fl)((()=>({formAutoriz:{name:{required:ne.C1},password:{required:ne.C1}},formReg:{name:{required:ne.C1,maxLength:(0,ne.BS)(32)},email:{required:ne.C1,email:ne.Do},password:{required:ne.C1,minLength:(0,ne.Ei)(6),maxLength:(0,ne.BS)(32)},confirmPassword:{required:ne.C1,sameAs:(0,ne.sH)(e.formReg.password)}}}))),o=(0,oe.Xw)(t,e);return{state:e,v$:o}},data(){return{step:1,userInfo:{},folders:[],notes:[],dialogVisible:!1,dialogEditVisible:!1,dialogNoteVisible:!1,dialogEditNoteVisible:!1,selectedFolderEditId:"",selectedFolderId:"",selectedNoteEditId:""}},mounted(){localStorage.accessToken&&(this.fetchUserInfo(),this.step=0,this.fetchFolders(),ae.ZP.post("https://test-api.misaka.net.ru/api/Account/login",{username:localStorage.userName,password:localStorage.userPassword}).then((function(e){localStorage.accessToken=e.data.accessToken,localStorage.refreshToken=e.data.refreshToken})).catch((()=>{console.log("Пользователь не найден")})),setInterval((()=>{ae.ZP.post("https://test-api.misaka.net.ru/api/Account/refresh-token",{refreshToken:localStorage.refreshToken}).then((function(e){localStorage.accessToken=e.data.accessToken,localStorage.refreshToken=e.data.refreshToken})).catch((()=>{console.log("Токен не загрузился")}))}),9e5))},methods:{register(){1===this.step&&this.step++},autorization(){2===this.step&&this.step--},autorizationUser(){if(this.v$.$validate(),this.v$.formAutoriz.$error)console.log("Авторизация прошла неудачно");else{const e={name:this.state.formAutoriz.name,password:this.state.formAutoriz.password};ae.ZP.post("https://test-api.misaka.net.ru/api/Account/login",{username:this.state.formAutoriz.name,password:this.state.formAutoriz.password}).then((function(t){localStorage.accessToken=t.data.accessToken,localStorage.refreshToken=t.data.refreshToken,localStorage.userName=e.name,localStorage.userPassword=e.password,location.reload(),this.step=0})).catch((()=>{console.log("Пользователь не найден")}))}},registrationUser(){if(this.v$.$validate(),this.v$.formReg.$error)console.log("Регистрация прошла неудачно");else{const e={name:this.state.formReg.name,password:this.state.formReg.password};ae.ZP.post("https://test-api.misaka.net.ru/api/Account/register",{username:this.state.formReg.name,email:this.state.formReg.email,password:this.state.formReg.password}).then((function(t){localStorage.accessToken=t.data.accessToken,localStorage.refreshToken=t.data.refreshToken,localStorage.userName=e.name,localStorage.userPassword=e.password,location.reload(),this.step=0})).catch((()=>{console.log("Пользователь зарегистрирован")}))}},async fetchUserInfo(){try{const e=await ae.ZP.get("https://test-api.misaka.net.ru/api/Account/user",{headers:{Authorization:`Bearer ${localStorage.accessToken}`}});this.userInfo.userName=e.data.username,this.userInfo.userEmail=e.data.email}catch(e){console.log("Невозможно загрузить информацию о пользователе")}},createFolder(e){ae.ZP.post("https://test-api.misaka.net.ru/api/Folders",{name:e.name,color:e.color},{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchFolders()})).catch((()=>{console.log("Ошибка на добавление папки")})),this.dialogVisible=!1},removeFolder(e){ae.ZP["delete"](`https://test-api.misaka.net.ru/api/Folders/${e.id}`,{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchFolders()})).catch((()=>{console.log("Папка не удалена")}))},editFolder(e){this.dialogEditVisible=!0,this.selectedFolderEditId=e.id},editFolderForm(e){ae.ZP.put(`https://test-api.misaka.net.ru/api/Folders/${this.selectedFolderEditId}`,{name:e.name,color:e.color},{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchFolders(),this.dialogEditVisible=!1})).catch((()=>{console.log("Папка не изменилась")}))},createNote(e){ae.ZP.post(`https://test-api.misaka.net.ru/api/Folders/${this.selectedFolderId}/notes`,{title:e.title,content:e.content,color:e.color},{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchNotes(),this.fetchFolders(),this.dialogNoteVisible=!1})).catch((()=>{console.log("Ошибка на добавление заметки")})),this.dialogVisible=!1},removeNote(e){ae.ZP["delete"](`https://test-api.misaka.net.ru/api/Notes/${e.id}`,{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchNotes(),this.fetchFolders()})).catch((()=>{console.log("Заметка не удалена")}))},editNote(e){this.dialogEditNoteVisible=!0,this.selectedNoteEditId=e.id},editNoteForm(e){ae.ZP.put(`https://test-api.misaka.net.ru/api/Notes/${this.selectedNoteEditId}`,{title:e.title,content:e.content,color:e.color},{headers:{Authorization:`Bearer ${localStorage.accessToken}`}}).then((()=>{this.fetchNotes(),this.dialogEditNoteVisible=!1})).catch((()=>{console.log("Заметка не изменилась")}))},showNotes(e){this.selectedFolderId=e.id,this.fetchNotes()},showDialog(){this.dialogVisible=!0},showNoteDialog(){this.dialogNoteVisible=!0},async fetchFolders(){try{const e=await ae.ZP.get("https://test-api.misaka.net.ru/api/Folders",{headers:{Authorization:`Bearer ${localStorage.accessToken}`}});this.folders=e.data}catch(e){console.log("Ошибка получения папок")}},async fetchNotes(){try{const e=await ae.ZP.get(`https://test-api.misaka.net.ru/api/Folders/${this.selectedFolderId}/notes`,{headers:{Authorization:`Bearer ${localStorage.accessToken}`}});this.notes=e.data}catch(e){console.log("Ошибка получения заметок")}}},components:{FolderForm:q,FolderList:te,FolderFormEdit:me,NotesList:ye,NoteFormCreate:Oe,NoteFormEdit:Re}};const Le=(0,L.Z)(Ze,[["render",O]]);var Be=Le;function We(e,t,o,a,r,s){return o.show?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=(0,n.iM)(((...e)=>s.hideDialog&&s.hideDialog(...e)),["stop"]))},[(0,l._)("div",{onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,l.WI)(e.$slots,"default",{},void 0,!0)])])):(0,l.kq)("",!0)}var je={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const Ge=(0,L.Z)(je,[["render",We],["__scopeId","data-v-88e56fb2"]]);var qe=Ge,Me=[qe];const Ye=(0,n.ri)(Be);Me.forEach((e=>{Ye.component(e.name,e)})),Ye.mount("#app")}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,l,a){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],a=e[d][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,l,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,a,r=n[0],s=n[1],i=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in s)o.o(s,l)&&(o.m[l]=s[l]);if(i)var d=i(o)}for(t&&t(n);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=self["webpackChunkwebtodo"]=self["webpackChunkwebtodo"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(9132)}));n=o.O(n)})();
//# sourceMappingURL=app.c5f0dd5d.js.map